<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Mahara 템플릿 선택</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <h1>Mahara 템플릿 선택</h1>
    <p class="subtitle">필요한 템플릿을 선택하고 Mahara에서 이어서 작성하세요.</p>
  </header>

  <main class="container">
    <section class="template-list" id="template-list"></section>

    <aside class="guide-panel">
      <h2>교수자용 안내</h2>
      <div id="guide-content">템플릿을 선택하면 이곳에 교수자용 안내가 표시됩니다.</div>
    </aside>
  </main>

  <footer class="footer">
    <small>※ 이 페이지는 Mahara를 대신해서 저장하지 않습니다. 템플릿 선택 후 Mahara에서 마무리하세요.</small>
  </footer>

  <script>
    // ---------------------------
    // 📦 데이터 (템플릿 목록 + 안내)
    // ---------------------------
    const templates = [
      {
        id: "mahara-01",
        name: "기본 포트폴리오 (실제 링크)",
        target: "1~2학년 공통",
        desc: "학습 경험과 간단한 성찰을 기록하는 기본 템플릿입니다.",
        maharaUrl: "https://ehffag.cpserver.com/mahara/view/view.php?t=45ea8299d7f240becbf5",
        badge: "실제 링크"
      },
      {
        id: "mahara-02",
        name: "임상실습 포트폴리오 (임시)",
        target: "4학년 실습",
        desc: "실습일지, 사례 성찰, 증빙을 정리하는 템플릿입니다. 실제 Mahara 템플릿 주소로 교체해서 사용하세요.",
        maharaUrl: "https://example.com/mahara/clinical",
        badge: "임시"
      },
      {
        id: "mahara-03",
        name: "졸업 포트폴리오 · 통합형 (임시)",
        target: "졸업 예정자 / 통합 제출",
        desc: "여러 학년의 성취, 성적, 증빙을 한 번에 모아서 제출하는 구조입니다.",
        maharaUrl: "https://example.com/mahara/graduation",
        badge: "임시"
      },
      {
        id: "mahara-04",
        name: "비교과·활동 기록 포트폴리오 (임시)",
        target: "활동·봉사·자격증 기록",
        desc: "수업 외 활동을 기록하고 증빙파일을 업로드하도록 안내하는 템플릿입니다.",
        maharaUrl: "https://example.com/mahara/extracurricular",
        badge: "임시"
      }
    ];

    const teacherGuides = {
      "mahara-01": `
[교수자용 안내]
이 템플릿은 포트폴리오를 처음 작성하는 학생에게 권장합니다.

- 사례는 3~5개로 제한하세요.
- 성찰 문항을 미리 제시하면 작성률이 올라갑니다.
- 최종 제출은 Mahara에서 받도록 안내하세요.
`,
      "mahara-02": `
[교수자용 안내]
대상: 4학년 임상실습 참여 학생

- 실습부서마다 증빙 양식이 다를 수 있으므로 공통 필수 증빙만 먼저 제시하세요.
- 일자별 기록이 누락되지 않도록 주 1회 점검을 안내하세요.
- 민감 정보가 포함될 수 있으므로 Mahara 내 권한 범위도 함께 안내하세요.
`,
      "mahara-03": `
[교수자용 안내]
대상: 졸업 예정자 또는 장기 포트폴리오 제출 학생

- 1~6학년 활동을 한 번에 올리면 분량이 많아지므로 연도/학기별 구역을 구분해서 작성하도록 안내하세요.
- 아직 평가도구가 미확정일 때는 '임시 평가 기준'을 포트폴리오 하단에 붙여두고, 확정 후에는 Mahara 공지로만 수정하세요.
- 증빙파일 용량 제한을 미리 공지하면 제출 실패를 줄일 수 있습니다.
`,
      "mahara-04": `
[교수자용 안내]
대상: 비교과, 봉사, 자격증, 대회참여 등 교과 밖 활동을 관리하려는 학생

- 활동명 + 활동일자 + 증빙(이미지/파일) 구조로 단순하게 안내하면 작성률이 높습니다.
- 평가용이 아니라 '기록용'일 수 있으므로 필수 입력 항목을 최소화하세요.
- 학과 공지와 연계해서 "이 활동은 여기서 작성하세요"라고 링크를 함께 배포하면 좋습니다.
`
    };

    // ---------------------------
    // 🧩 화면 구성 (카드 만들기)
    // ---------------------------
    const listBox = document.getElementById("template-list");
    const guideContent = document.getElementById("guide-content");

    templates.forEach(t => {
      const card = document.createElement("article");
      card.className = "template-card";
      card.innerHTML = `
        <div class="template-header">
          <h3>${t.name}</h3>
          ${t.badge ? `<span class="badge">${t.badge}</span>` : ""}
        </div>
        <p class="target"><strong>대상:</strong> ${t.target}</p>
        <p class="desc">${t.desc}</p>
        <div class="actions">
          <button class="primary" onclick="window.open('${t.maharaUrl}', '_blank')">
            Mahara에서 열기
          </button>
          <button class="secondary" onclick="showTeacherGuide('${t.id}')">
            교수자용 안내 보기
          </button>
        </div>
      `;
      listBox.appendChild(card);
    });

    // 안내 보기 함수
    function showTeacherGuide(id) {
      const guideText = teacherGuides[id];
      guideContent.innerHTML = guideText || "이 템플릿에는 교수자용 안내가 아직 없습니다.";
    }

    // 처음 들어왔을 때 첫 번째 템플릿 안내 자동 표시
    if (templates.length > 0) {
      const firstId = templates[0].id;
      if (teacherGuides[firstId]) {
        guideContent.innerHTML = teacherGuides[firstId];
      }
    }
  </script>
</body>
</html>
